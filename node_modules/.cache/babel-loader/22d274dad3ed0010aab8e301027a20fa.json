{"remainingRequest":"D:\\GH_Portfolio\\ex13\\node_modules\\babel-loader\\lib\\index.js!D:\\GH_Portfolio\\ex13\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\GH_Portfolio\\ex13\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GH_Portfolio\\ex13\\src\\components\\subscribe_page.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GH_Portfolio\\ex13\\src\\components\\subscribe_page.vue","mtime":1614094180738},{"path":"D:\\GH_Portfolio\\ex13\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GH_Portfolio\\ex13\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\GH_Portfolio\\ex13\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GH_Portfolio\\ex13\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGVhdCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudWludDgtYXJyYXkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5jb3B5LXdpdGhpbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmV2ZXJ5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZmlsbCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbHRlciI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LmZpbmQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5maW5kLWluZGV4IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5mcm9tIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5Lmxhc3QtaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZWR1Y2UtcmlnaHQiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5yZXZlcnNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2V0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy50eXBlZC1hcnJheS5zb21lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkuc29ydCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnN1YmFycmF5IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMudHlwZWQtYXJyYXkudG8tbG9jYWxlLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnR5cGVkLWFycmF5LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuaXRlcmF0b3IiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIkQ6L0dIX1BvcnRmb2xpby9leDEzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIO2MjOydtOyWtOuyoOydtOyKpOyXkOyEnCBvU3Vic2NyaXB0aW9uc2luREIg6rCd7LK0IOuzgOyImCDqsIDsoLjsmLQKaW1wb3J0IHsgb1N1YnNjcmlwdGlvbnNpbkRCIH0gZnJvbSAnQC9kYXRhc291cmNlcy9maXJlYmFzZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYk1zZzogZmFsc2UgLy8g67KE7Yq87J20IOuIjOuguOydhCDrlYwg7JWI64K0IOuplOyLnOyngCDtkZzsi5zsl6zrtoAKCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZm5QdXNoU3Vic2NyaWJlOiBmdW5jdGlvbiBmblB1c2hTdWJzY3JpYmUoKSB7CiAgICAgIC8vIHRoaXPsnZgg6rCSIOyehOyLnCDsoIDsnqUKICAgICAgdmFyIHRlbXBfdGhpcyA9IHRoaXM7IC8vIOyCrOyaqeyekOyXkOqyjCDtkbjsi5wg7IKs7Jqp7ZWg7KeAIO2XiOqwgCDsmpTssq0KCiAgICAgIE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbihmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgaWYgKHJlc3VsdCAhPT0gJ2dyYW50ZWQnKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygn7ZG47Iuc7JWM66a8IOq4sOuKpeydtCDtl4jsmqnrkJjsp4Ag7JWK7JWY7Iq164uI64ukIScpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDsgqzsmqnsnpDqsIAg7ZeI6rCA7ZWY66m0IO2RuOyLnOyVjOumvCDshJzruYTsiqQg7ISk7KCVIOyLpO2WiQogICAgICAgICAgdGVtcF90aGlzLmZuQ29uZmlndXJlUHVzaFN1YigpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g7ZG47Iuc7JWM66a87J2EIOychO2VtCDshJzruYTsiqTsm4zsu6Qg7KCQ6rKAIOuwjyDtkbjsi5zshJzrsoQg7ISk7KCVCiAgICBmbkNvbmZpZ3VyZVB1c2hTdWI6IGZ1bmN0aW9uIGZuQ29uZmlndXJlUHVzaFN1YigpIHsKICAgICAgLy8gdGhpc+ydmCDqsJIg7J6E7IucIOyggOyepQogICAgICB2YXIgdGVtcF90aGlzID0gdGhpczsgLy8g7ISc67mE7IqkIOybjOy7pCDsl4bsnLzrqbQg7Iuc7J6R7ZWY7KeAIOyViuydjAoKICAgICAgaWYgKCEoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvcikpIHsKICAgICAgICBjb25zb2xlLmxvZygi7ISc67mE7IqkIOybjOy7pOqwgCDsl4bsirXri4jri6QhIik7CiAgICAgICAgcmV0dXJuOwogICAgICB9IC8vIOyEnOu5hOyKpCDsm4zsu6Qg7KSA67mEIO2ZleyduAoKCiAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlYWR5LnRoZW4oZnVuY3Rpb24gKHN3cmVnKSB7CiAgICAgICAgLy8g7ZG47IucIOyEnOuyhOyXkOyEnCDqtazrj4XsoJXrs7Qg6rCA7KC47Ji0CiAgICAgICAgcmV0dXJuIHN3cmVnLnB1c2hNYW5hZ2VyLmdldFN1YnNjcmlwdGlvbigpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChzdWIpIHsKICAgICAgICBpZiAoc3ViID09PSBudWxsKSB7CiAgICAgICAgICAvLyDsspjsnYwg6rWs64+F7J28IOuVjCDsspjrpqwKICAgICAgICAgIHRlbXBfdGhpcy5mbk5ld1N1YnNjcmlwdGlvbigpOwogICAgICAgICAgdGVtcF90aGlzLmZuRGlzcGxheU5vdGlmaWNhdGlvbigpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyDsnbTrr7gg6rWs64+F65CcIOqyveyasCDsspjrpqwKICAgICAgICAgIGNvbnNvbGUubG9nKCfsnbTrr7gg6rWs64+F65CY7Ja0IOyeiOyKteuLiOuLpCEnKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOyDiOuhnOyatCDqtazrj4XsnpAg65Ox66GdIOyymOumrAogICAgZm5OZXdTdWJzY3JpcHRpb246IGZ1bmN0aW9uIGZuTmV3U3Vic2NyaXB0aW9uKCkgewogICAgICB2YXIgdGVtcF90aGlzID0gdGhpczsKICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVhZHkudGhlbihmdW5jdGlvbiAoc3dyZWcpIHsKICAgICAgICAvLyDsg4jroZzsmrQg6rWs64+F7J6QIOuTseuhneyaqSDqs7XqsJztgqQocHVibGljIGtleSkpIOykgOu5hAogICAgICAgIHZhciB2YXBpZFB1YmxpY0tleSA9ICdCTUNyam9KRFRkSkJRWXA3RFBiVDVkdENPLURseG10Q2E1U3hQM3Z1OFRNbXJRbjNVS3p4ODJvM0xNbERyc3FpUjhCdTJ6U2Npb1Y0YjNnNENlaUJ5ZzAnOwogICAgICAgIHZhciBjb252ZXJ0ZWRWYXBpZFB1YmxpY0tleSA9IHRlbXBfdGhpcy51cmxCYXNlNjRUb1VpbnQ4QXJyYXkodmFwaWRQdWJsaWNLZXkpOyAvLyDtkbjsi5wg7ISc67KE7JeQIO2NvOu4lOumre2CpOuhnCDqtazrj4XsoJXrs7Qg65Ox66Gd7ZWoCgogICAgICAgIHJldHVybiBzd3JlZy5wdXNoTWFuYWdlci5zdWJzY3JpYmUoewogICAgICAgICAgdXNlclZpc2libGVPbmx5OiB0cnVlLAogICAgICAgICAgYXBwbGljYXRpb25TZXJ2ZXJLZXk6IGNvbnZlcnRlZFZhcGlkUHVibGljS2V5CiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAobmV3U3ViKSB7CiAgICAgICAgICAvLyDsi6Dqt5wg6rWs64+F7J6QIOygleuztCDrs4DtmZggOiDroZzsmrAg642w7J207YSwIOuwsOyXtCA9PiDtlYTthLDrp4HrkJwgSlNPTiA9PiDsoJXrj4jrkJwg67Cw7Je0CiAgICAgICAgICB2YXIgZmlsdGVyZWRTdWIgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG5ld1N1YikpOwogICAgICAgICAgdmFyIHB1c2hDb25maWcgPSB7CiAgICAgICAgICAgIGVuZHBvaW50OiBmaWx0ZXJlZFN1Yi5lbmRwb2ludCwKICAgICAgICAgICAga2V5czogewogICAgICAgICAgICAgIHAyNTZkaDogZmlsdGVyZWRTdWIua2V5cy5wMjU2ZGgsCiAgICAgICAgICAgICAgYXV0aDogZmlsdGVyZWRTdWIua2V5cy5hdXRoCiAgICAgICAgICAgIH0KICAgICAgICAgIH07IC8vIO2MjOydtOyWtOuyoOydtOyKpCBEQuyXkCDqtazrj4XsnpAg7KCA7J6lCgogICAgICAgICAgcmV0dXJuIG9TdWJzY3JpcHRpb25zaW5EQi5wdXNoKHB1c2hDb25maWcpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDqtazrj4XsnpAg65Ox66GdIO2VtOygnAogICAgZm5VblN1YnNjcmlwdGlvbjogZnVuY3Rpb24gZm5VblN1YnNjcmlwdGlvbigpIHsKICAgICAgdmFyIHRlbXBfdGhpcyA9IHRoaXM7CiAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlYWR5LnRoZW4oZnVuY3Rpb24gKHN3cmVnKSB7CiAgICAgICAgcmV0dXJuIHN3cmVnLnB1c2hNYW5hZ2VyLmdldFN1YnNjcmlwdGlvbigpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChvbGRTdWIpIHsKICAgICAgICB0ZW1wX3RoaXMuYk1zZyA9IHRydWU7CiAgICAgICAgb2xkU3ViLnVuc3Vic2NyaWJlKCk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyKTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g7ZG47IucIOyVjOumvCDrqZTsi5zsp4Ag7KSA67mEIOuwjyDrsJzshqEKICAgIGZuRGlzcGxheU5vdGlmaWNhdGlvbjogZnVuY3Rpb24gZm5EaXNwbGF5Tm90aWZpY2F0aW9uKCkgewogICAgICB2YXIgdGl0bGUgPSAn7KG47JeF7J6R7ZKIIOyghOyLnO2ajCc7CiAgICAgIHZhciBvcHRpb25zID0gewogICAgICAgIGJvZHk6ICfsg4jroZzsmrQg7IaM7IudIOyVjOumvCDshJzruYTsiqTsl5Ag6rCA7J6F7ZWY7IugIOqyg+ydhCDtmZjsmIHtlanri4jri6QhJywKICAgICAgICBpY29uOiAnL2ltZy9wdXNoLW5vdGkucG5nJywKICAgICAgICBiYWRnZTogJy9pbWcvcHVzaC1iYWRnZS1pY29uLnBuZycsCiAgICAgICAgaW1hZ2U6ICcvaW1nL3B1c2gtaW1hZ2UuanBnJywKICAgICAgICBhY3Rpb25zOiBbewogICAgICAgICAgYWN0aW9uOiAnbGlrZScsCiAgICAgICAgICB0aXRsZTogJ+y7pO2UvOulvCDsoovslYTtlZjsi5zrqbQg66eB7YGs66W8IO2BtOumre2VmOyEuOyalC4nLAogICAgICAgICAgaWNvbjogJy9pbWcvcHVzaC1jb2ZmZWUucG5nJwogICAgICAgIH1dLAogICAgICAgIHZpYnJhdGU6IFs1MDAsIDEwMCwgNTAwXQogICAgICB9OwogICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWFkeS50aGVuKGZ1bmN0aW9uIChzd3JlZykgewogICAgICAgIC8vIOqwgOyehe2ZmOyYgSDslYzrprwg67Cc7IahCiAgICAgICAgc3dyZWcuc2hvd05vdGlmaWNhdGlvbih0aXRsZSwgb3B0aW9ucyk7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOy9lOuTnCDrk7HroZ0g65WMIO2VhOyalO2VoCDsiKvsnpAg7Luo67KE7YSw7JqpIOycoO2LuOumrO2LsCDtlajsiJgKICAgIHVybEJhc2U2NFRvVWludDhBcnJheTogZnVuY3Rpb24gdXJsQmFzZTY0VG9VaW50OEFycmF5KGJhc2U2NFN0cmluZykgewogICAgICB2YXIgcGFkZGluZyA9ICc9Jy5yZXBlYXQoKDQgLSBiYXNlNjRTdHJpbmcubGVuZ3RoICUgNCkgJSA0KTsKICAgICAgdmFyIGJhc2U2NCA9IChiYXNlNjRTdHJpbmcgKyBwYWRkaW5nKS4KICAgICAgLyogZXNsaW50LWRpc2FibGUgKi8KICAgICAgcmVwbGFjZSgvXC0vZywgJysnKQogICAgICAvKiBlc2xpbnQtZW5hYmxlICovCiAgICAgIC5yZXBsYWNlKC9fL2csICcvJyk7CiAgICAgIHZhciByYXdEYXRhID0gd2luZG93LmF0b2IoYmFzZTY0KTsKICAgICAgcmV0dXJuIFVpbnQ4QXJyYXkuZnJvbShfdG9Db25zdW1hYmxlQXJyYXkocmF3RGF0YSkubWFwKGZ1bmN0aW9uIChjaGFyKSB7CiAgICAgICAgcmV0dXJuIGNoYXIuY2hhckNvZGVBdCgwKTsKICAgICAgfSkpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["subscribe_page.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <v-card class=\"mx-auto\" max-width=\"500\">\r\n    <!-- 상단에 카드 이미지 표시, 파일경로는 assets 기준 -->\r\n    <v-img src=\"../assets/img/push-image.jpg\" height=\"200px\">\r\n    </v-img>\r\n    <v-row align=\"center\">\r\n      <v-col offset=\"1\" cols=\"2\">\r\n        <!-- 좌측에 푸시알림 아이콘 이미지 표시, 파일경로는 public 기준 -->\r\n        <v-img contain color=\"blue darken-2\" src=\"../assets/img/push-noti.png\" max-width=\"70px\"></v-img>\r\n      </v-col>\r\n      <!-- 우측에 안내글 표시 -->\r\n      <v-col cols=\"8\">\r\n        <v-card-title primary-title>\r\n          <h1 class=\"headline\">졸업작품 전시회 푸시알림</h1>\r\n          <div class=\"body-1\"> 졸업작품 전시회의 초청 푸시 알림을 보내려고 합니다.\r\n            [알림허용] 단추를 클릭하시면 알림 정보를 받으실 수\r\n            있습니다. </div>\r\n        </v-card-title>\r\n      </v-col>\r\n    </v-row>\r\n    <v-row align=\"center\">\r\n      <v-col offset=\"1\" cols=\"5\">\r\n        <!-- 하단에 푸시알림 가입 버튼 표시 -->\r\n        <v-btn block large @click=\"fnPushSubscribe\" color=\"orange\" dark>\r\n          <v-icon dark left>add_alert</v-icon>\r\n          알림 허용\r\n        </v-btn>\r\n      </v-col>\r\n      <v-col cols=\"5\">\r\n        <!-- 하단에 푸시알림 해제 버튼 표시 -->\r\n        <v-btn block large @click=\"fnUnSubscription\" color=\"orange\" dark>\r\n          <v-icon dark left>notifications_off</v-icon>\r\n          알림 해제\r\n        </v-btn>\r\n      </v-col>\r\n    </v-row>\r\n    <v-snackbar v-model=\"bMsg\">\r\n      푸시알림이 해제되었습니다.\r\n      <v-btn color=\"orange\" text @click=\"bMsg = false\">닫기</v-btn>\r\n    </v-snackbar>\r\n  </v-card>\r\n</template>\r\n<script>\r\n  // 파이어베이스에서 oSubscriptionsinDB 객체 변수 가져옴\r\n  import {\r\n    oSubscriptionsinDB\r\n  } from '@/datasources/firebase'\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        bMsg: false, // 버튼이 눌렸을 때 안내 메시지 표시여부\r\n      }\r\n    },\r\n    methods: {\r\n      fnPushSubscribe() {\r\n        // this의 값 임시 저장\r\n        let temp_this = this\r\n        // 사용자에게 푸시 사용할지 허가 요청\r\n        Notification.requestPermission(function (result) {\r\n          if (result !== 'granted') {\r\n            console.log('푸시알림 기능이 허용되지 않았습니다!')\r\n          } else {\r\n            // 사용자가 허가하면 푸시알림 서비스 설정 실행\r\n            temp_this.fnConfigurePushSub()\r\n          }\r\n        })\r\n      },\r\n      // 푸시알림을 위해 서비스워커 점검 및 푸시서버 설정\r\n      fnConfigurePushSub() {\r\n        // this의 값 임시 저장\r\n        let temp_this = this\r\n        // 서비스 워커 없으면 시작하지 않음\r\n        if (!('serviceWorker' in navigator)) {\r\n          console.log(\"서비스 워커가 없습니다!\")\r\n          return\r\n        }\r\n        // 서비스 워커 준비 확인\r\n        navigator.serviceWorker.ready\r\n          .then(function (swreg) {\r\n            // 푸시 서버에서 구독정보 가져옴\r\n            return swreg.pushManager.getSubscription()\r\n          })\r\n          .then(function (sub) {\r\n            if (sub === null) {\r\n              // 처음 구독일 때 처리\r\n              temp_this.fnNewSubscription()\r\n              temp_this.fnDisplayNotification()\r\n            } else {\r\n              // 이미 구독된 경우 처리\r\n              console.log('이미 구독되어 있습니다!')\r\n            }\r\n          })\r\n      },\r\n      // 새로운 구독자 등록 처리\r\n      fnNewSubscription() {\r\n        let temp_this = this\r\n        navigator.serviceWorker.ready\r\n          .then(function (swreg) {\r\n            // 새로운 구독자 등록용 공개키(public key)) 준비\r\n            const vapidPublicKey =\r\n              'BMCrjoJDTdJBQYp7DPbT5dtCO-DlxmtCa5SxP3vu8TMmrQn3UKzx82o3LMlDrsqiR8Bu2zScioV4b3g4CeiByg0'\r\n            const convertedVapidPublicKey =\r\n              temp_this.urlBase64ToUint8Array(vapidPublicKey)\r\n            // 푸시 서버에 퍼블릭키로 구독정보 등록함\r\n            return swreg.pushManager.subscribe({\r\n              userVisibleOnly: true,\r\n              applicationServerKey: convertedVapidPublicKey\r\n            }).then(function (newSub) {\r\n              // 신규 구독자 정보 변환 : 로우 데이터 배열 => 필터링된 JSON => 정돈된 배열\r\n              const filteredSub = JSON.parse(JSON.stringify(newSub))\r\n              var pushConfig = {\r\n                endpoint: filteredSub.endpoint,\r\n                keys: {\r\n                  p256dh: filteredSub.keys.p256dh,\r\n                  auth: filteredSub.keys.auth\r\n                }\r\n              }\r\n              // 파이어베이스 DB에 구독자 저장\r\n              return oSubscriptionsinDB.push(pushConfig)\r\n            })\r\n          })\r\n      },\r\n      // 구독자 등록 해제\r\n      fnUnSubscription() {\r\n        let temp_this = this\r\n        navigator.serviceWorker.ready\r\n          .then(function (swreg) {\r\n            return swreg.pushManager.getSubscription();\r\n          }).then(function (oldSub) {\r\n            temp_this.bMsg = true;\r\n            oldSub.unsubscribe();\r\n          }).catch(err => console.log(err))\r\n      },\r\n      // 푸시 알림 메시지 준비 및 발송\r\n      fnDisplayNotification() {\r\n        const title = '졸업작품 전시회'\r\n        const options = {\r\n          body: '새로운 소식 알림 서비스에 가입하신 것을 환영합니다!',\r\n          icon: '/img/push-noti.png',\r\n          badge: '/img/push-badge-icon.png',\r\n          image: '/img/push-image.jpg',\r\n          actions: [{\r\n            action: 'like',\r\n            title: '커피를 좋아하시면 링크를 클릭하세요.',\r\n            icon: '/img/push-coffee.png'\r\n          }],\r\n          vibrate: [500, 100, 500]\r\n        }\r\n        navigator.serviceWorker.ready\r\n          .then(function (swreg) {\r\n            // 가입환영 알림 발송\r\n            swreg.showNotification(title, options)\r\n          })\r\n      },\r\n      // 코드 등록 때 필요할 숫자 컨버터용 유틸리티 함수\r\n      urlBase64ToUint8Array(base64String) {\r\n        const padding = '='.repeat((4 - base64String.length % 4) % 4)\r\n        const base64 = (base64String + padding)\r\n          /* eslint-disable */\r\n          .replace(/\\-/g, '+')\r\n          /* eslint-enable */\r\n          .replace(/_/g, '/')\r\n        const rawData = window.atob(base64)\r\n        return Uint8Array.from([...rawData].map((char) =>\r\n          char.charCodeAt(0)))\r\n      }\r\n    }\r\n  }\r\n</script>"],"sourceRoot":"src/components"}]}